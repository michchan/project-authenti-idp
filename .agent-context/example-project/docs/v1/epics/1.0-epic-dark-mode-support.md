# 🚀 v1.0 Epic: Add Dark Mode Support Across Web & Mobile

**As a** user,  
**I want** the ability to enable dark mode,  
**So that** I can reduce eye strain and improve usability in low-light environments.

---

### 🧭 Description
This Epic introduces dark mode styling support across both web and mobile platforms. It includes UI theming, user preferences, and system-level detection. The implementation will follow the new design tokens in our design system.

### 🎯 Acceptance Criteria
- [ ] Users can toggle between light and dark modes manually
- [ ] App respects OS-level dark mode preferences
- [ ] UI components render correctly in dark mode
- [ ] Setting is persisted across sessions

---

## 📋 Related User Stories

| ID      | Title                                      | Status       | Estimate |
|---------|--------------------------------------------|--------------|----------|
| [US-201](#us-201-theme-toggle-on-web-ui)             | Theme Toggle on Web UI             | 🔧 In Progress | 3 SP     |
| [US-202](#us-202-theme-toggle-on-mobile)             | Theme Toggle on Mobile App         | 🟢 To Do       | 3 SP     |
| [US-203](#us-203-dark-mode-design-token-updates)     | Dark Mode Design Token Updates     | ✅ Done        | 2 SP     |
| [US-204](#us-204-persist-user-theme-preference)      | Persist User Theme Preference      | 🟢 To Do       | 3 SP     |

---

## 📘 User Stories

---

### 🧩 US-201: Theme Toggle on Web UI

**As a** web user,  
**I want** a toggle to switch between light and dark themes,  
**So that** I can use the app comfortably in different lighting conditions.

**Acceptance Criteria:**
- [ ] Toggle switch appears in the user settings dropdown
- [ ] Dark theme applies to all pages consistently
- [ ] UI remembers theme until user changes it

**Status**: `🔧 In Progress`  
**Estimate**: `3 story points`

**Reference**: [`/designs/web/dark-mode-toggle.png`](./designs/web/dark-mode-toggle.png)

**Notes**:
- Initial implementation only supports manual toggle
- Use CSS variables defined in `/styles/themes/dark.css`

---

### 🧩 US-202: Theme Toggle on Mobile App

**As a** mobile user,  
**I want** to toggle between light and dark themes in the app settings,  
**So that** I can control the app appearance on my phone.

**Acceptance Criteria:**
- [ ] Toggle is available in “Appearance” section of app settings
- [ ] Theme is applied immediately across all screens
- [ ] App resumes in selected theme after restart

**Status**: `🟢 To Do`  
**Estimate**: `3 story points`

**Reference**: [`/docs/mobile/theming-implementation.md`](./docs/mobile/theming-implementation.md)

**Notes**:
- Integrate with shared `ThemeContext` from React Native
- Use `useColorScheme()` for default detection

---

### 🧩 US-203: Dark Mode Design Token Updates

**As a** developer,  
**I want** centralized color tokens for dark mode,  
**So that** we maintain consistency across platforms.

**Acceptance Criteria:**
- [ ] Define color tokens for dark mode in design system
- [ ] Add `theme:dark` support in Tailwind config
- [ ] Test token fallback behavior

**Status**: `✅ Done`  
**Estimate**: `2 story points`

**Reference**: [`/design-system/tokens.json`](./design-system/tokens.json)

**Notes**:
- Token names match light mode but values are inverted
- QA tested on Chrome, Safari, and Firefox

---

### 🧩 US-204: Persist User Theme Preference

**As a** user,  
**I want** my theme preference to be saved,  
**So that** I don’t need to reset it every time I open the app.

**Acceptance Criteria:**
- [ ] Theme is saved to localStorage (web) or async storage (mobile)
- [ ] Default respects OS-level preference if none selected
- [ ] Preferences sync with user profile (if logged in)

**Status**: `🟢 To Do`  
**Estimate**: `3 story points`

**Notes**:
- Web and mobile implementations will be separate
- Sync with profile service in Phase 2
