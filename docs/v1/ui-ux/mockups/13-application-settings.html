<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Settings - AuthentiIDP</title>
    <link rel="stylesheet" href="styles.css">
    <script src="theme-manager.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-content">
            <a href="12-developer-dashboard.html" class="nav-brand"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/></svg>AuthentiIDP</a>
            <div class="nav-user">
                <div class="user-avatar">JD</div>
                <span class="text-muted">john@dev.com</span>
                <button class="btn btn-secondary" style="padding: 8px 16px; margin-left: 12px;" onclick="window.location.href='01-login.html'">
                    Sign Out
                </button>
            </div>
        </div>
    </nav>

    <div class="container" style="padding-top: 40px;">
        <!-- Header -->
        <div style="margin-bottom: 32px;">
            <nav style="margin-bottom: 16px;">
                <a href="12-developer-dashboard.html" style="color: var(--color-text-muted); text-decoration: none; font-size: var(--font-size-sm);">
                    ← Back to Developer Dashboard
                </a>
            </nav>
            <h1>Application Settings</h1>
            <p class="text-muted">Configure your application's authentication and integration settings</p>
        </div>

        <!-- Tab Navigation -->
        <div style="margin-bottom: 32px;">
            <div class="nav-links" style="display: flex; border-bottom: 1px solid var(--color-border); gap: 0;">
                <button class="nav-link active" data-tab="info" style="border: none; background: none; padding: 12px 24px; cursor: pointer;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>Application Info
                </button>
                <button class="nav-link" data-tab="credentials" style="border: none; background: none; padding: 12px 24px; cursor: pointer;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31.84 2.41 2 2.83V22h2v-2.17c1.16-.42 2-1.52 2-2.83 0-1.66-1.34-3-3-3zm13-9h-8V3c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h6v2.59c-2.42.46-4.25 2.61-4.25 5.16 0 2.92 2.38 5.25 5.25 5.25s5.25-2.33 5.25-5.25c0-2.55-1.83-4.7-4.25-5.16V11h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2z"/></svg>API Credentials
                </button>
                <button class="nav-link" data-tab="redirect" style="border: none; background: none; padding: 12px 24px; cursor: pointer;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M13 3L16.5 6.5 12 11 8.5 6.5 12 2M7.89 17L10.5 19.61L12 18.11L9.39 15.5L7.89 17M16.11 17L14.61 15.5L12 18.11L13.5 19.61L16.11 17M12 13C13.1 13 14 13.9 14 15S13.1 17 12 17 10 16.1 10 15 10.9 13 12 13M12 21C7.03 21 3 16.97 3 12S7.03 3 12 3 21 7.03 21 12 16.97 21 12 21Z"/></svg>Redirect URIs
                </button>
                <button class="nav-link" data-tab="tokens" style="border: none; background: none; padding: 12px 24px; cursor: pointer;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M12 1L3 5v6c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>Token Settings
                </button>
                <button class="nav-link" data-tab="integration" style="border: none; background: none; padding: 12px 24px; cursor: pointer;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>Integration
                </button>
            </div>
        </div>

        <!-- Success Alert (hidden by default) -->
        <div class="alert alert-success" style="display: none;" id="success-alert">
            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <div>
                <strong>Settings saved!</strong> Your application configuration has been updated.
            </div>
        </div>

        <!-- Main Content -->
        <div style="max-width: 800px;">
            <!-- Application Info Tab -->
            <div id="info-tab" class="tab-content">
                <div class="card" style="margin-bottom: 32px;">
                    <h2 style="margin-bottom: 24px;">Application Information</h2>
                    
                    <form id="app-info-form">
                        <!-- App Name -->
                        <div class="form-group">
                            <label for="appName" class="form-label">Application Name *</label>
                            <input 
                                type="text" 
                                id="appName" 
                                name="appName" 
                                class="form-input" 
                                value="TaskMaster Pro"
                                required
                            >
                        </div>

                        <!-- Description -->
                        <div class="form-group">
                            <label for="description" class="form-label">Description</label>
                            <textarea 
                                id="description" 
                                name="description" 
                                class="form-input" 
                                rows="3"
                                placeholder="Describe what your application does..."
                                style="resize: vertical; min-height: 80px;"
                            >A task management application that helps users organize and track their daily activities</textarea>
                        </div>

                        <!-- Application Type -->
                        <div class="form-group">
                            <label for="appType" class="form-label">Application Type *</label>
                            <select id="appType" name="appType" class="form-input" required>
                                <option value="spa">Single Page Application (SPA)</option>
                                <option value="web" selected>Traditional Web Application</option>
                                <option value="mobile">Mobile Application</option>
                                <option value="api">API Service</option>
                            </select>
                        </div>

                        <!-- Status -->
                        <div class="form-group">
                            <label class="form-label">Application Status</label>
                            <div style="display: flex; gap: 16px; margin-top: 8px;">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="radio" name="status" value="active" checked>
                                    <span style="color: var(--color-success);">Active</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="radio" name="status" value="disabled">
                                    <span style="color: var(--color-danger);">Disabled</span>
                                </label>
                            </div>
                        </div>

                        <!-- Homepage URL -->
                        <div class="form-group">
                            <label for="homepageUrl" class="form-label">Homepage URL</label>
                            <input 
                                type="url" 
                                id="homepageUrl" 
                                name="homepageUrl" 
                                class="form-input" 
                                value="https://taskmaster.example.com"
                                placeholder="https://example.com"
                            >
                        </div>

                        <button type="submit" class="btn btn-primary">
                            Save Application Info
                        </button>
                    </form>
                </div>
            </div>

            <!-- API Credentials Tab -->
            <div id="credentials-tab" class="tab-content" style="display: none;">
                <div class="card" style="margin-bottom: 32px;">
                    <h2 style="margin-bottom: 24px;">API Credentials</h2>
                    <p style="color: var(--color-text-muted); margin-bottom: 24px;">
                        Use these credentials to authenticate your application with AuthentiIDP.
                    </p>

                    <!-- DEMO ONLY - NOT REAL SECRETS -->
                    <!-- Client ID -->
                    <div class="form-group">
                        <label class="form-label">Client ID</label>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <input 
                                type="text" 
                                class="form-input" 
                                value="DEMO_CLIENT_ID_12345_NOT_REAL"
                                readonly
                                style="flex: 1;"
                            >
                            <button class="btn btn-secondary" style="font-size: var(--font-size-sm); padding: 8px 16px;" onclick="copyToClipboard('client-id')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px; vertical-align: middle;"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>Copy
                            </button>
                        </div>
                    </div>

                    <!-- Client Secret -->
                    <div class="form-group">
                        <label class="form-label">Client Secret</label>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <input 
                                type="password" 
                                class="form-input" 
                                value="FAKE_CLIENT_SECRET_DEMO_ONLY_NOT_REAL"
                                readonly
                                style="flex: 1;"
                                id="client-secret"
                            >
                            <button class="btn btn-secondary" style="font-size: var(--font-size-sm); padding: 8px 16px;" onclick="toggleSecretVisibility()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px; vertical-align: middle;"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>Show
                            </button>
                            <button class="btn btn-secondary" style="font-size: var(--font-size-sm); padding: 8px 16px;" onclick="copyToClipboard('client-secret')">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px; vertical-align: middle;"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>Copy
                            </button>
                        </div>
                    </div>


                    <!-- Actions -->
                    <div style="display: flex; gap: 16px; margin-top: 24px;">
                        <button class="btn btn-primary" onclick="generateNewSecret()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px; vertical-align: middle;"><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zM11 15H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2z"/><path d="M8 13h8v-2H8z"/></svg>Generate New Secret
                        </button>
                    </div>

                    <!-- Warning -->
                    <div style="margin-top: 24px; padding: 16px; background: var(--color-secondary); border-radius: var(--radius-md);">
                        <h4 style="margin-bottom: 8px; color: var(--color-text);"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>Security Notice</h4>
                        <p style="margin: 0; font-size: var(--font-size-sm); color: var(--color-text-muted);">
                            Keep your client secret secure and never expose it in client-side code. For Single Page Applications (SPAs), use PKCE flow instead of client secrets. Generating new credentials will invalidate the previous ones.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Redirect URIs Tab -->
            <div id="redirect-tab" class="tab-content" style="display: none;">
                <div class="card" style="margin-bottom: 32px;">
                    <h2 style="margin-bottom: 24px;">Redirect URIs</h2>
                    <p style="color: var(--color-text-muted); margin-bottom: 24px;">
                        Configure the allowed redirect URIs for OAuth authentication flows.
                    </p>

                    <!-- Current URIs -->
                    <div style="margin-bottom: 24px;">
                        <h3 style="margin-bottom: 16px;">Configured Redirect URIs</h3>
                        <div style="display: flex; flex-direction: column; gap: 16px;" id="redirect-uris-list">
                            <div style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 1px solid var(--color-border); border-radius: var(--radius-md);">
                                <span style="flex: 1; font-family: monospace;">https://taskmaster.example.com/auth/callback</span>
                                <button class="btn btn-danger" style="font-size: var(--font-size-sm); padding: 6px 12px;" onclick="removeRedirectUri(0)">
                                    Remove
                                </button>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 1px solid var(--color-border); border-radius: var(--radius-md);">
                                <span style="flex: 1; font-family: monospace;">http://localhost:3000/auth/callback</span>
                                <button class="btn btn-danger" style="font-size: var(--font-size-sm); padding: 6px 12px;" onclick="removeRedirectUri(1)">
                                    Remove
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Add New URI -->
                    <div style="margin-bottom: 24px;">
                        <h3 style="margin-bottom: 16px;">Add New Redirect URI</h3>
                        <div style="display: flex; gap: 12px;">
                            <input 
                                type="url" 
                                id="new-redirect-uri" 
                                class="form-input" 
                                placeholder="https://example.com/auth/callback"
                                style="flex: 1;"
                            >
                            <button class="btn btn-primary" onclick="addRedirectUri()">
                                Add URI
                            </button>
                        </div>
                    </div>

                    <!-- Guidelines -->
                    <div style="padding: 16px; background: var(--color-secondary); border-radius: var(--radius-md);">
                        <h4 style="margin-bottom: 12px;">Guidelines</h4>
                        <ul style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Use HTTPS for production URLs</li>
                            <li style="margin-bottom: 8px;">localhost URLs are allowed for development</li>
                            <li style="margin-bottom: 8px;">Wildcard subdomains are not supported</li>
                            <li>URI must exactly match for authentication to succeed</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Token Settings Tab -->
            <div id="tokens-tab" class="tab-content" style="display: none;">
                <div class="card" style="margin-bottom: 32px;">
                    <h2 style="margin-bottom: 24px;">Token Settings</h2>
                    <p style="color: var(--color-text-muted); margin-bottom: 24px;">
                        Configure token expiration and refresh settings for your application.
                    </p>

                    <form id="token-settings-form">
                        <!-- Access Token Lifetime -->
                        <div class="form-group">
                            <label for="accessTokenLifetime" class="form-label">Access Token Lifetime (minutes)</label>
                            <select id="accessTokenLifetime" name="accessTokenLifetime" class="form-input">
                                <option value="15">15 minutes</option>
                                <option value="30">30 minutes</option>
                                <option value="60" selected>1 hour</option>
                                <option value="240">4 hours</option>
                                <option value="480">8 hours</option>
                                <option value="1440">24 hours</option>
                            </select>
                        </div>

                        <!-- Refresh Token Lifetime -->
                        <div class="form-group">
                            <label for="refreshTokenLifetime" class="form-label">Refresh Token Lifetime (days)</label>
                            <select id="refreshTokenLifetime" name="refreshTokenLifetime" class="form-input">
                                <option value="1">1 day</option>
                                <option value="7">7 days</option>
                                <option value="30" selected>30 days</option>
                                <option value="90">90 days</option>
                                <option value="365">1 year</option>
                            </select>
                        </div>

                        <!-- Token Rotation -->
                        <div class="form-group">
                            <label class="form-label">Refresh Token Rotation</label>
                            <div style="margin-top: 8px;">
                                <label style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                                    <input type="checkbox" name="rotateRefreshTokens" checked>
                                    <div>
                                        <div style="font-weight: 500;">Enable refresh token rotation</div>
                                        <div style="color: var(--color-text-muted); font-size: var(--font-size-sm);">Generate a new refresh token each time one is used</div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Inactivity Timeout -->
                        <div class="form-group">
                            <label class="form-label">Inactivity Timeout</label>
                            <div style="margin-top: 8px;">
                                <label style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                                    <input type="checkbox" name="enableInactivityTimeout" checked>
                                    <div>
                                        <div style="font-weight: 500;">Enable inactivity timeout</div>
                                        <div style="color: var(--color-text-muted); font-size: var(--font-size-sm);">Automatically expire tokens after 30 days of inactivity</div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Save Button -->
                        <button type="submit" class="btn btn-primary">
                            Save Token Settings
                        </button>
                    </form>
                </div>
            </div>

            <!-- Integration Tab -->
            <div id="integration-tab" class="tab-content" style="display: none;">
                <div class="card" style="margin-bottom: 32px;">
                    <div style="margin-bottom: 48px; text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 16px;"><svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
                        <h2 style="margin-bottom: 16px;">Simple Integration Guide</h2>
                        <p style="font-size: var(--font-size-lg); color: var(--color-text-muted); max-width: 600px; margin: 0 auto;">
                            Simple Integration • Client Secret Required • Framework Flexible
                        </p>
                    </div>

                    <!-- Integration Steps -->
                    <div style="margin-bottom: 32px;">
                        <h3 style="margin-bottom: 32px; text-align: center;">Integration in 4 Simple Steps</h3>
                        
                        <div style="display: flex; flex-direction: column; gap: 24px;">
                            <!-- Step 1 -->
                            <div style="padding: 24px; border-radius: var(--radius-md); background: var(--color-secondary);">
                                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                                    <div style="width: 48px; height: 48px; background: var(--color-primary); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: var(--font-size-lg);">1</div>
                                    <h4 style="margin: 0; color: var(--color-primary);"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/></svg>Configure Credentials</h4>
                                </div>
                                <div style="background: var(--color-panel); padding: 16px; border-radius: var(--radius-md); margin-bottom: 12px; font-family: 'Monaco', 'Consolas', monospace; font-size: 13px;">
                                    <code style="color: var(--color-text);">
# DEMO ONLY - NOT REAL SECRETS<br>
AUTHENTI_CLIENT_ID=DEMO_CLIENT_ID_12345_NOT_REAL<br>
AUTHENTI_CLIENT_SECRET=FAKE_CLIENT_SECRET_DEMO_ONLY_NOT_REAL<br>
AUTHENTI_REDIRECT_URI=https://taskmaster.example.com/auth/callback<br>
AUTHENTI_BASE_URL=https://auth.authenti-idp.com
                                    </code>
                                </div>
                                <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin: 0;">
                                    Add these environment variables to your app
                                </p>
                            </div>

                            <!-- Step 2 -->
                            <div style="padding: 24px; border-radius: var(--radius-md); background: var(--color-secondary);">
                                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                                    <div style="width: 48px; height: 48px; background: var(--color-text-muted); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: var(--font-size-lg);">2</div>
                                    <h4 style="margin: 0; color: var(--color-text);"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>Install SDK</h4>
                                </div>
                                <div style="background: var(--color-panel); padding: 16px; border-radius: var(--radius-md); margin-bottom: 12px; font-family: 'Monaco', 'Consolas', monospace; font-size: 13px;">
                                    <code style="color: var(--color-text);">
npm install @authenti-idp/react
                                    </code>
                                </div>
                                <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin: 0;">
                                    Framework flexible - React, Vue, Angular, vanilla JS
                                </p>
                            </div>

                            <!-- Step 3 -->
                            <div style="padding: 24px; border-radius: var(--radius-md); background: var(--color-secondary);">
                                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                                    <div style="width: 48px; height: 48px; background: var(--color-text-muted); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: var(--font-size-lg);">3</div>
                                    <h4 style="margin: 0; color: var(--color-text);"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>Add PKCE login (SPAs)</h4>
                                </div>
                                <div style="background: var(--color-panel); padding: 16px; border-radius: var(--radius-md); margin-bottom: 12px; font-family: 'Monaco', 'Consolas', monospace; font-size: 13px; line-height: 1.4;">
                                    <code style="color: var(--color-text);">
import { AuthentiProvider, useAuth } from '@authenti-idp/react'<br><br>
function App() {<br>
&nbsp;&nbsp;return (<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;AuthentiProvider <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clientId="DEMO_CLIENT_ID_12345_NOT_REAL"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;usePKCE={true}&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TaskMasterApp /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/AuthentiProvider&gt;<br>
&nbsp;&nbsp;)<br>
}
                                    </code>
                                </div>
                                <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin: 0;">
                                    PKCE flow is secure for SPAs - no client secret needed
                                </p>
                            </div>

                            <!-- Step 4 -->
                            <div style="padding: 24px; border-radius: var(--radius-md); background: var(--color-secondary);">
                                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                                    <div style="width: 48px; height: 48px; background: var(--color-text-muted); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: var(--font-size-lg);">4</div>
                                    <h4 style="margin: 0; color: var(--color-text);"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>Protect routes (optional)</h4>
                                </div>
                                <div style="background: var(--color-panel); padding: 16px; border-radius: var(--radius-md); margin-bottom: 12px; font-family: 'Monaco', 'Consolas', monospace; font-size: 13px; line-height: 1.4;">
                                    <code style="color: var(--color-text);">
import { ProtectedRoute } from '@authenti-idp/react'<br><br>
&lt;ProtectedRoute&gt;<br>
&nbsp;&nbsp;&lt;MySecretComponent /&gt;<br>
&lt;/ProtectedRoute&gt;
                                    </code>
                                </div>
                                <p style="color: var(--color-text-muted); font-size: var(--font-size-sm); margin: 0;">
                                    Automatically redirects to login for protected content
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Footer Message -->
                    <div style="text-align: center; padding: 32px; background: var(--color-secondary); border-radius: var(--radius-md);">
                        <h3 style="margin-bottom: 16px;"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M7 2v11h3v9l7-12h-4l4-8z"/></svg>Secure, simple, and ready to use</h3>
                        <p style="color: var(--color-text-muted); font-size: var(--font-size-lg); margin: 0;">
                            It just works!
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Danger Zone -->
        <div class="card" style="margin-top: 40px; border: 1px solid var(--color-danger);">
            <h3 style="margin-bottom: 16px; color: var(--color-danger);"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>Danger Zone</h3>
            <p style="color: var(--color-text-muted); margin-bottom: 24px; font-size: var(--font-size-sm);">
                These actions cannot be undone. Please proceed with caution.
            </p>
            
            <button class="btn btn-danger" onclick="deleteApplication()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px; vertical-align: middle;"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>Delete Application
            </button>
        </div>
    </div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" style="position: fixed; top: 24px; right: 24px;" aria-label="Toggle theme">
<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49z"/></svg>
    </button>

    <!-- Toast Notification (Hidden) -->
    <div id="toast" style="display: none; position: fixed; top: 24px; left: 50%; transform: translateX(-50%); background: var(--color-success); color: white; padding: 12px 24px; border-radius: var(--radius-md); z-index: 1000;">
        Copied to clipboard!
    </div>

    <script>
        // Theme management is now handled by the shared theme-manager.js

        // Tab Management
        class TabManager {
            constructor() {
                this.init();
            }
            
            init() {
                this.bindTabEvents();
            }
            
            bindTabEvents() {
                document.querySelectorAll('[data-tab]').forEach(tab => {
                    tab.addEventListener('click', () => {
                        this.switchTab(tab.dataset.tab);
                    });
                });
            }
            
            switchTab(tabName) {
                // Update tab buttons
                document.querySelectorAll('[data-tab]').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
                
                // Update tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.style.display = 'none';
                });
                
                const targetContent = document.getElementById(`${tabName}-tab`);
                if (targetContent) {
                    targetContent.style.display = 'block';
                }
            }
        }

        // Form Handling
        document.getElementById('app-info-form').addEventListener('submit', function(e) {
            e.preventDefault();
            showSuccessAlert('Application information saved successfully!');
        });

        document.getElementById('token-settings-form').addEventListener('submit', function(e) {
            e.preventDefault();
            showSuccessAlert('Token settings saved successfully!');
        });

        function showSuccessAlert(message) {
            const successAlert = document.getElementById('success-alert');
            successAlert.querySelector('div').innerHTML = `<strong>Settings saved!</strong> ${message}`;
            successAlert.style.display = 'flex';
            
            // Hide after 3 seconds
            setTimeout(() => {
                successAlert.style.display = 'none';
            }, 3000);
        }

        // Credentials Management
        function toggleSecretVisibility() {
            const secretInput = document.getElementById('client-secret');
            const button = event.target;
            
            if (secretInput.type === 'password') {
                secretInput.type = 'text';
                button.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px; vertical-align: middle;"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></svg>Hide';
            } else {
                secretInput.type = 'password';
                button.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px; vertical-align: middle;"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>Show';
            }
        }

        function generateNewSecret() {
            if (confirm('Are you sure you want to generate a new client secret? This will invalidate the current secret.')) {
                const newSecret = 'FAKE_SECRET_' + Math.random().toString(36).substring(2, 20).toUpperCase() + '_DEMO_ONLY';
                document.getElementById('client-secret').value = newSecret;
                showSuccessAlert('New client secret generated successfully!');
            }
        }


        // Copy to Clipboard
        function copyToClipboard(type) {
            let text = '';
            
            switch(type) {
                case 'client-id':
                    text = 'DEMO_CLIENT_ID_12345_NOT_REAL';
                    break;
                case 'client-secret':
                    text = document.getElementById('client-secret').value;
                    break;
            }
            
            if (text) {
                navigator.clipboard.writeText(text).then(() => {
                    showToast('Copied to clipboard!');
                }).catch(() => {
                    // Fallback for browsers that don't support clipboard API
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    showToast('Copied to clipboard!');
                });
            }
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 2000);
        }

        // Redirect URI Management
        let redirectUris = [
            'https://taskmaster.example.com/auth/callback',
            'http://localhost:3000/auth/callback'
        ];

        function addRedirectUri() {
            const input = document.getElementById('new-redirect-uri');
            const uri = input.value.trim();
            
            if (!uri) {
                alert('Please enter a valid URI');
                return;
            }
            
            if (redirectUris.includes(uri)) {
                alert('This URI is already configured');
                return;
            }
            
            redirectUris.push(uri);
            input.value = '';
            renderRedirectUris();
            showSuccessAlert('Redirect URI added successfully!');
        }

        function removeRedirectUri(index) {
            if (confirm('Are you sure you want to remove this redirect URI?')) {
                redirectUris.splice(index, 1);
                renderRedirectUris();
                showSuccessAlert('Redirect URI removed successfully!');
            }
        }

        function renderRedirectUris() {
            const container = document.getElementById('redirect-uris-list');
            container.style.cssText = 'display: flex; flex-direction: column; gap: 16px;';
            container.innerHTML = redirectUris.map((uri, index) => `
                <div style="display: flex; align-items: center; gap: 12px; padding: 12px; border: 1px solid var(--color-border); border-radius: var(--radius-md);">
                    <span style="flex: 1; font-family: monospace;">${uri}</span>
                    <button class="btn btn-danger" style="font-size: var(--font-size-sm); padding: 6px 12px;" onclick="removeRedirectUri(${index})">
                        Remove
                    </button>
                </div>
            `).join('');
        }


        function deleteApplication() {
            showDeleteModal();
        }

        function showDeleteModal() {
            const modal = document.createElement('div');
            modal.id = 'delete-modal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            modal.innerHTML = `
                <div style="background: var(--color-bg); border-radius: var(--radius-md); padding: 32px; max-width: 500px; width: 90%; margin: 20px;">
                    <h3 style="margin-bottom: 16px; color: var(--color-danger);"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px; vertical-align: middle;"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>Delete Application</h3>
                    <p style="margin-bottom: 24px; color: var(--color-text-muted);">
                        This action cannot be undone. This will permanently delete <strong>TaskMaster Pro</strong> and all associated data including:
                    </p>
                    <ul style="margin-bottom: 24px; color: var(--color-text-muted); padding-left: 20px;">
                        <li>All API credentials</li>
                        <li>User authentication sessions</li>
                        <li>Integration configurations</li>
                        <li>Usage analytics and logs</li>
                    </ul>
                    <div style="margin-bottom: 24px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 500;">Please type <strong>TaskMaster Pro</strong> to confirm:</label>
                        <input type="text" id="delete-confirm-input" class="form-input" placeholder="TaskMaster Pro" style="width: 100%;">
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
                        <button id="delete-confirm-btn" class="btn btn-danger" onclick="confirmDeleteApplication()" disabled>
                            Delete Application
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Add input validation
            const input = document.getElementById('delete-confirm-input');
            const confirmBtn = document.getElementById('delete-confirm-btn');
            
            input.addEventListener('input', function() {
                if (input.value === 'TaskMaster Pro') {
                    confirmBtn.disabled = false;
                    confirmBtn.style.opacity = '1';
                } else {
                    confirmBtn.disabled = true;
                    confirmBtn.style.opacity = '0.5';
                }
            });
            
            // Focus input
            setTimeout(() => input.focus(), 100);
            
            // Close on escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') closeDeleteModal();
            });
        }

        function closeDeleteModal() {
            const modal = document.getElementById('delete-modal');
            if (modal) {
                modal.remove();
            }
        }

        function confirmDeleteApplication() {
            const input = document.getElementById('delete-confirm-input');
            if (input.value === 'TaskMaster Pro') {
                closeDeleteModal();
                alert('Application "TaskMaster Pro" has been deleted successfully. Redirecting to dashboard...');
                window.location.href = '12-developer-dashboard.html';
            }
        }

        // Initialize components
        new TabManager();
    </script>
</body>
</html>